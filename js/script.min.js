// Optimized mobile menu toggle
const menuToggle=document.getElementById('menuToggle'),mobileMenu=document.getElementById('mobileMenu');menuToggle&&menuToggle.addEventListener('click',()=>{mobileMenu.classList.toggle('hidden');menuToggle.innerHTML=mobileMenu.classList.contains('hidden')?'<i class="fas fa-bars text-2xl"></i>':'<i class="fas fa-times text-2xl"></i>'}),document.querySelectorAll('#mobileMenu a').forEach(link=>{link.addEventListener('click',()=>{mobileMenu.classList.add('hidden');menuToggle.innerHTML='<i class="fas fa-bars text-2xl"></i>'})});// Optimized intersection observer with debouncing
let observerOptions={threshold:.1,rootMargin:'50px'},observer=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('slide-up');observer.unobserve(entry.target)}})},observerOptions);document.addEventListener('DOMContentLoaded',()=>{// Observe sections
document.querySelectorAll('section.hidden-section').forEach(section=>observer.observe(section));// Observe items
document.querySelectorAll('.hidden-item').forEach(item=>observer.observe(item));// Smooth scroll with debouncing
let scrollTimeout;document.querySelectorAll('nav a[href^="#"]').forEach(link=>{link.addEventListener('click',e=>{e.preventDefault();clearTimeout(scrollTimeout);const targetId=link.getAttribute('href'),targetSection=document.querySelector(targetId);if(targetSection){scrollTimeout=setTimeout(()=>{targetSection.scrollIntoView({behavior:'smooth',block:'start'});const mobileMenu=document.getElementById('mobileMenu');mobileMenu&&!mobileMenu.classList.contains('hidden')&&mobileMenu.classList.add('hidden')},50)}})})});// Lazy loading for images
const lazyImages=document.querySelectorAll('img[data-src]'),imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;img.classList.add('loaded');observer.unobserve(img)}})},{rootMargin:'50px'});lazyImages.forEach(img=>imageObserver.observe(img));// Performance optimization: Remove loading class after page load
window.addEventListener('load',()=>{document.body.classList.remove('loading');document.body.classList.add('loaded')});